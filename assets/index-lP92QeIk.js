(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();function T(e,t){try{localStorage.setItem(e,JSON.stringify(t)),console.log(`Data successfully written to localStorage with key: ${e}`)}catch(o){console.error(`Error writing data to localStorage: ${o}`)}}function y(e){try{const t=localStorage.getItem(e);return t!==null?(console.log(`Data successfully read from localStorage with key: ${e}`),JSON.parse(t)):(console.log(`No data found in localStorage with key: ${e}`),null)}catch(t){return console.error(`Error reading data from localStorage: ${t}`),null}}class D{constructor(t,o,r,n){this.title=t,this.description=o,this.dueDate=r,this.priority=n,this.completed=!1}editDescription(t){this.description=t}editDueDate(t){this.dueDate=t}editTitle(t){this.title=t}editPriority(t){this.priority=t}markCompleted(){this.completed=!0,console.log(`${this.title} has been completed`)}}class A{constructor(t){this.name=t,this.todoList=[],this.active=!1}addTodo(t,o,r,n){const i=new D(t,o,r,n);return this.todoList.push(i),i}deleteTodo(t){const o=this.todoList.indexOf(t);o!==-1&&this.todoList.splice(o,1)}getTodoList(){return this.todoList}getTodoByTitle(t){return this.todoList.find(o=>o.title===t)}getCompletedTodos(){return this.todoList.filter(t=>t.completed)}getUncompletedTodos(){return this.todoList.filter(t=>!t.completed)}}function S(e,t){Object.assign(e,t),console.log(`Todo "${e.title}" edited.`)}const m=[];function j(e){const t=new A(e);return m.push(t),h(),console.log(`Project "${e}" created.`),t}function l(){return m}function h(){console.log(m),T("projects",m)}let E=null;function g(e){l().filter(o=>o.active===!0).forEach(o=>{o.active=!1}),E=e,e.active=!0,console.log(`${e.name}`,`${e.active}`)}function a(){return E}let p=!1;function w(e){console.log("Project clicked:",e.name),g(e),c(e.todoList),T("currentProject",e),console.log(y("currentProject"))}function b(){console.log("Adding project...");const e=document.querySelector(".add-project");if(p){const t=e.previousSibling;if(!t.value.trim()){e.textContent="Add Project",t.remove(),p=!1;return}const o=j(t.value.trim());C(l()),g(o),c(a().todoList),console.log(`${a().name} is the current project.`),e.textContent="Add Project",t.remove(),p=!1}else{e.textContent="Done";const t=document.createElement("input");t.setAttribute("type","text"),t.setAttribute("placeholder","Name"),e.parentNode.insertBefore(t,e),t.focus(),p=!0}}function x(e,t,o){const r=e.textContent,n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("placeholder",`Enter ${t}`),n.value=r,n.addEventListener("blur",()=>{const i=n.value.trim();i!==r&&(S(o,{[t]:i}),h(),c(a().todoList)),e.textContent=i,n.replaceWith(e)}),e.replaceWith(n),n.focus()}function I(){const e=document.getElementById("todos-logic-panel");e.innerHTML="";const t=L("Title"),o=L("Description"),r=L("Due Date"),n=$(),i=document.createElement("div");i.textContent="Confirm",i.classList.add("confirm-todo-button"),i.addEventListener("click",O),e.appendChild(t),e.appendChild(o),e.appendChild(r),e.appendChild(n),e.appendChild(i)}function L(e){const t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("placeholder",e),t}function $(){const e=document.createElement("select");return["Low","Medium","High"].forEach(o=>{const r=document.createElement("option");r.textContent=o,e.appendChild(r)}),e}function O(){const e=document.querySelector('#todos-logic-panel input[placeholder="Title"]').value,t=document.querySelector('#todos-logic-panel input[placeholder="Description"]').value,o=document.querySelector('#todos-logic-panel input[placeholder="Due Date"]').value,r=document.querySelector("#todos-logic-panel select").value,n=a();n.addTodo(e,t,o,r),h(),c(n.todoList),P()}function B(e){const t=a();console.log(t),t.deleteTodo(e),h(),c(t.todoList),P()}function C(e){const t=document.getElementById("projects-container");t.innerHTML="",e.forEach(r=>{const n=document.createElement("div");n.classList.add("project-item"),n.innerHTML=`
        <h1 class='project-item-title'>${r.name}</h1>
        `,n.addEventListener("click",()=>{w(r)}),t.appendChild(n)});const o=document.createElement("div");o.textContent="Add Project",o.classList.add("add-project"),o.addEventListener("click",()=>{b()}),t.appendChild(o)}function P(){const e=document.getElementById("todos-logic-panel");e.innerHTML="";const t=document.createElement("div");t.textContent="+",t.classList.add("add-todo-button"),t.addEventListener("click",I),e.appendChild(t)}function c(e){const t=document.getElementById("todos-container");t.innerHTML="",e.forEach(o=>{const r=document.createElement("div");r.classList.add("todo-item");const n=f(o.title,"title",o),i=f(o.description,"description",o),d=f(o.dueDate,"dueDate",o),v=f(o.priority,"priority",o),u=document.createElement("button");u.textContent="Done",u.classList.add("todo-done-button"),u.addEventListener("click",()=>{B(o)}),s(r,n),s(r,i),s(r,d),s(r,v),s(r,u),t.appendChild(r)})}function f(e,t,o){const r=document.createElement("div");return r.textContent=e,r.classList.add("todo-detail"),r.id=`${t}-area`,r.addEventListener("click",()=>{x(r,t,o)}),r}function s(e,t){e.appendChild(t)}class N{static initRender(){C(l()),g(l()[0]),c(l()[0].todoList),P()}}if(localStorage.getItem("projects")){console.log(`Project storage: ${y("projects")}`);const e=y("projects");console.log(e),e.forEach(t=>{const o=j(t.name);t.todoList.forEach(r=>{o.addTodo(r.title,r.description,r.dueDate,r.priority)})})}else{console.log("no project storage");const e=j("Default Project");e.addTodo("Default Todo","Description for this Todo goes here!","01-01-2000","high"),g(e)}N.initRender();
